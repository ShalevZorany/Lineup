<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Line-Up Builder</title>
<style>
 body{font-family:Arial, sans-serif;text-align:center}
 #controls{margin:1rem auto;max-width:600px;display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center}
 select,button{padding:.4rem .7rem;font-size:1rem}
 #field{width:600px;height:900px;position:relative;margin:0 auto;border:4px solid #fff;border-radius:8px;background:#32853d}
 /* simple field lines */
 #field::before,#field::after{content:"";position:absolute;left:50%;transform:translateX(-50%);width:2px;height:100%;background:#fff}
 #field::after{top:50%;width:100%;height:2px}
 .player{position:absolute;width:72px;height:72px;border-radius:50%;background:rgba(255,255,255,.85);border:2px solid #000;cursor:grab;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:bold;user-select:none}
 .player span.number{font-size:1.4rem;line-height:1}
 .player span.name{font-size:.75rem}
</style>
</head>
<body>

<h1>Line-Up Builder</h1>

<div id="controls">
 <label>Formation:
   <select id="formationSelect">
    <option value="4-4-2">4-4-2</option>
    <option value="4-3-3">4-3-3</option>
    <option value="3-5-2">3-5-2</option>
    <option value="5-3-2">5-3-2</option>
   </select>
 </label>
 <button id="addPlayerBtn">Add Player</button>
 <button id="resetBtn">Reset Positions</button>
</div>

<div id="field"></div>

<script>
const field=document.getElementById('field');
const formationSelect=document.getElementById('formationSelect');
const addPlayerBtn=document.getElementById('addPlayerBtn');
const resetBtn=document.getElementById('resetBtn');

let players=[];

function createPlayer(name="Player",number=players.length+1,x=50,y=90){
 const el=document.createElement('div');
 el.className='player';
 el.style.left=`${x}%`;
 el.style.top=`${y}%`;
 el.innerHTML=`<span class="number">${number}</span><span class="name">${name}</span>`;
 field.appendChild(el);
 makeDraggable(el);
 el.ondblclick=()=>{
   const newName=prompt("Player name:",name);
   const newNumber=prompt("Player number:",number);
   if(newName!==null) name=newName;
   if(newNumber!==null) number=newNumber;
   el.querySelector('.name').textContent=name;
   el.querySelector('.number').textContent=number;
 }
 players.push(el);
}

function makeDraggable(el){
 let offsetX,offsetY,dragging=false;
 el.addEventListener('pointerdown',e=>{
   dragging=true;
   el.setPointerCapture(e.pointerId);
   const rect=el.getBoundingClientRect();
   offsetX=e.clientX-rect.left;
   offsetY=e.clientY-rect.top;
 });
 el.addEventListener('pointermove',e=>{
   if(!dragging) return;
   const fieldRect=field.getBoundingClientRect();
   const newX=((e.clientX-fieldRect.left-offsetX)/fieldRect.width)*100;
   const newY=((e.clientY-fieldRect.top-offsetY)/fieldRect.height)*100;
   el.style.left=`${Math.min(Math.max(newX,0),100)}%`;
   el.style.top=`${Math.min(Math.max(newY,0),100)}%`;
 });
 el.addEventListener('pointerup',()=>dragging=false);
}

const formations={
 "4-4-2":[
  [50,95],
  [15,75],[40,75],[60,75],[85,75],
  [15,50],[40,50],[60,50],[85,50],
  [35,25],[65,25]
 ],
 "4-3-3":[
  [50,95],
  [15,75],[40,75],[60,75],[85,75],
  [25,55],[50,55],[75,55],
  [15,30],[50,25],[85,30]
 ],
 "3-5-2":[
  [50,95],
  [25,75],[50,75],[75,75],
  [10,55],[30,50],[50,45],[70,50],[90,55],
  [35,25],[65,25]
 ],
 "5-3-2":[
  [50,95],
  [10,75],[30,75],[50,75],[70,75],[90,75],
  [25,50],[50,50],[75,50],
  [35,25],[65,25]
 ]
};

function applyFormation(name){
 clearPlayers();
 formations[name].forEach((pos,i)=>createPlayer(`P${i+1}`,i+1,pos[0],pos[1]));
}
function clearPlayers(){
 players.forEach(p=>p.remove());
 players=[];
}
formationSelect.onchange=()=>applyFormation(formationSelect.value);
addPlayerBtn.onclick=()=>createPlayer(`P${players.length+1}`,players.length+1,50,50);
resetBtn.onclick=()=>applyFormation(formationSelect.value);

applyFormation(formationSelect.value);
</script>
</body>
</html>
